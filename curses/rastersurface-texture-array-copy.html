<!DOCTYPE html><!--  This site was created in Webflow. http://www.webflow.com  -->
<!--  Last Published: Sun Oct 03 2021 01:56:11 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="6157433addcafb55d999444c" data-wf-site="602f42d4d0eb6ddf9136273c">
<head>
  <meta charset="utf-8">
  <title>RasterSurface Texture Array</title>
  <meta content="RasterSurface Texture Array" property="og:title">
  <meta content="RasterSurface Texture Array" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="../css/normalize.css" rel="stylesheet" type="text/css">
  <link href="../css/webflow.css" rel="stylesheet" type="text/css">
  <link href="../css/juan-diegos-portfolio.webflow.css" rel="stylesheet" type="text/css">
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="../images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="../images/webclip.png" rel="apple-touch-icon">
</head>
<body class="body">
  <div data-w-id="ff3ac0b1-c979-2917-beb2-e00e39f97f07" data-animation="over-right" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar-3 w-nav">
    <div class="container-8 w-container">
      <a href="../index.html" class="nav-logo-link"><img src="../images/Logo-Name-Portfolio.png" alt="IMAGE" class="nav-logo"></a>
      <nav role="navigation" class="nav-menu-3 w-nav-menu">
        <a href="../index.html" class="nav-link home works w-nav-link">HOME</a>
        <a href="#Code" class="nav-link home works w-nav-link">SUMMARY</a>
        <a href="#" class="nav-link home works w-nav-link">FEATURES</a>
        <a href="#" class="nav-link home works w-nav-link">DESIGN</a>
      </nav>
      <div class="menu-button-2 w-nav-button">
        <div class="w-icon-nav-menu"></div>
      </div>
    </div>
  </div>
  <div class="section background-black wf-section">
    <div class="centered-container this w-container">
      <h1 class="heading-curses this">Raster Surface Texture Array</h1>
      <p class="paragraph-5">This project is about the process of directly manipulating the color array by inserting color values into specific spots in the array<br></p>
    </div>
    <div class="div-block-32 dl">
      <div class="text-block-11">Feel Free to Download the Source Code.</div>
      <a href="https://github.com/JDMAXilius/Raster-Surface-Texture-Array.git" target="_blank" class="button-6 ds w-button">Source Code</a>
    </div>
    <div class="container-7 w-container">
      <h2 class="heading-26-curse"><strong>Project Topics</strong></h2>
      <p class="paragrahps blog colum"><strong>Explanations<br>‍</strong>Vector Displays <br>Raster Displays<br>Alpha<br>Pixel Intensity &amp; Gamma <br>Pixel Formats <br>RGB<br>Blending Pixels<br>BLIT Routine<br><strong>Code</strong><br>Raster Surface <br>Helper Functions <br>Animation<br>‍<br><strong><br><br><br><br></strong></p>
    </div>
    <section id="Features" class="flex-container line w-container">
      <h2 class="heading-18"><strong>Objectives</strong></h2>
    </section>
    <div class="div-block-34"><img src="../images/Raster-Surface-Texture-Array.PNG" loading="lazy" alt="image" class="image-19"></div>
    <div class="container-7 w-container">
      <div class="rich-text-block-5 w-richtext">
        <p>Get a tiled background showing on the entire color array</p>
        <p>o  The color values will be strange but this is fine for this section.</p>
        <p>Swap the color bits from BGRA to <strong>ARGB</strong> and get 10 random objects in the color array.</p>
        <p>o  Some bit manipulation will be needed in order to fix the colors</p>
        <p>o  If you were able to get this far, you should be able to draw 10 random “tiled” objects onto the color array as well.</p>
        <p>Get at least 1 “cell” of an animation rendering properly with blending.  Ensurethat the cell properly blends with what is behind it.</p>
        <p>o  Depending on the alpha value of the cell, some form of interpolation will be needed to handle properly blending the background with the cell.</p>
        <p>Play an animation with a high speed timer (The X Time class is great for this)</p>
        <p>o  A minimum of 30 frames a second playing for the animation.</p>
      </div>
    </div>
    <section id="Code" class="flex-container line curses w-container">
      <h2 class="heading-18"><strong>Programming Code</strong></h2>
    </section>
    <div data-hover="false" data-delay="0" class="dropdown w-dropdown">
      <div data-w-id="f1780fe9-361a-f368-ec31-fe8fcb9a1980" class="dropdown-toggle w-dropdown-toggle">
        <div data-w-id="f1780fe9-361a-f368-ec31-fe8fcb9a1981" class="icon accordion-icon w-icon-dropdown-toggle"></div>
        <div class="text-block-13">Raster Surface Initiation</div>
      </div>
      <nav class="dropdown-list-2 w-dropdown-list">
        <div class="flex-container-grid this w-container">
          <p class="paragrahps blog">A raster display is made up of a grid (the raster) of picture-elements (pixels) where each pixel can be triggered to emit<br>light. Resolution describes the horizontal and vertical number of pixels.​<br><br><strong>Define</strong><br>Let’s initialize our Raster Surface to a window size of 500 by 500.<br>⦁ 500 pixels wide by 500 pixels tall<br><br><strong>Code<br>‍</strong><br>unsigned int raster[500 * 500] = { 0, };<br><br>int main()<br>{<br> RS_Initialize(500, 500);<br> do {<br> <br> <br> } while (RS_Update(raster, 250000));<br> RS_Shutdown();<br> return 0;<br>}<br></p>
        </div>
      </nav>
    </div>
    <div data-hover="false" data-delay="0" class="dropdown w-dropdown">
      <div data-w-id="7bf85bb3-6337-7b13-62e8-8cc8fea0b2bc" class="dropdown-toggle w-dropdown-toggle">
        <div data-w-id="7bf85bb3-6337-7b13-62e8-8cc8fea0b2bd" class="icon accordion-icon w-icon-dropdown-toggle"></div>
        <div class="text-block-13">Helper Functions</div>
      </div>
      <nav class="dropdown-list-2 w-dropdown-list">
        <div class="flex-container-grid this w-container">
          <p class="paragrahps blog">You will also be writing a few helper functions to assist you in this process. <br>Here are a few example functions you might need.<br>‍<br>A function to clear the color buffer to a solid color of your choice.<br>A function to convert 2 dimensional coordinates to a 1 dimensional coordinate.<br>A function to draw a pixel (fill a certain pixelwith a specific color).<br>A function to BLIT (Block Image Transfer)<br><strong><br>Code<br>‍</strong><br>unsigned int lerp(unsigned int A, unsigned int B);<br>unsigned int colorConverter(unsigned int color);//A function to clear the color buffer to a solid color of your choice<br>//not used for now!<br>void clearColor(unsigned color)<br>{<br> std::memset(raster, color, sizeof raster);<br>}<br><br>//A function to convert 2 dimensional coordinates to a 1 dimensional coordinate<br>int convertDimensionalCordinates(int X, int Y, int Width)//find coordinates<br>{<br> int conversion = (X + Y * Width);<br> return conversion;<br>}//A function to draw a pixel (fill a certain pixel with a specific color)<br>void drawPixel(int x, int y, unsigned int color)<br>{<br> unsigned int alphaColor = (color &amp; 0xFF000000);<br> alphaColor &gt;&gt; 24; if (alphaColor &gt; 255)<br> {<br> raster[convertDimensionalCordinates(x, y, 500)] = lerp(raster[convertDimensionalCordinates(x, y, 500)], color);<br> }<br> else<br> {<br> raster[convertDimensionalCordinates(x, y, 500)] = color;<br> }}//A function to BLIT (Block Image Transfer)<br>void blit(const unsigned int* source, int nSourceTextureWidth, RECT SourceRect, int DestX, int DestY)<br>{<br> int heigth = SourceRect.bottom - SourceRect.top;<br> int width = SourceRect.right - SourceRect.left; for (int i = 0; i &lt; heigth; i++)<br> {<br> for (int j = 0; j &lt; width; j++)<br> {<br> drawPixel(j + DestX, i + DestY, colorConverter(source[convertDimensionalCordinates(j + SourceRect.left, i + SourceRect.top, nSourceTextureWidth)]));<br> }<br> }<br>}<br><br>//A function to clear the color buffer to a solid color of your choice.<br>//Swap the color bits from BGRA to ARGB and get 10 random objects in the color array<br>unsigned int lerp(unsigned int A, unsigned int B)<br>{<br> //A colors<br> unsigned int Aalpha = (A &amp; 0xFF000000) &gt;&gt; 24;<br> unsigned int Ared = (A &amp; 0x00FF0000) &gt;&gt; 16;<br> unsigned int Agreen = (A &amp; 0x0000FF00) &gt;&gt; 8;<br> unsigned int Ablue = (A &amp; 0x000000FF); //B colors<br> unsigned int Balpha = (B &amp; 0xFF000000) &gt;&gt; 24;<br> unsigned int Bred = (B &amp; 0x00FF0000) &gt;&gt; 16;<br> unsigned int Bgreen = (A &amp; 0x0000FF00) &gt;&gt; 8;<br> unsigned int Bblue = (A &amp; 0x000000FF);<br> <br> //Ratio<br> float ratio = Balpha / 255.0f; //Result ofthe learp colors<br> unsigned int Calpha = (Balpha - Aalpha) * ratio + Aalpha;<br> unsigned int Cred = (Bred - Ared) * ratio + Ared;<br> unsigned int Cgreen = (Bgreen - Agreen) * ratio + Agreen;<br> unsigned int Cblue = (Bblue - Ablue) * ratio + Ablue; unsigned int Lerp = (Calpha &lt;&lt; 24) | (Cred &lt;&lt; 16) | (Cgreen &lt;&lt; 8) | (Cblue);<br> return Lerp;<br>}<br><br>unsigned int colorConverter(unsigned int color)<br>{<br> unsigned int red;<br> unsigned int green;<br> unsigned int blue;<br> unsigned int alpha; //colors<br> red = (color &amp; 0x0000FF00) &lt;&lt; 8;<br> green = (color &amp; 0x00FF0000) &gt;&gt; 8;<br> blue = (color &amp; 0xFF000000) &gt;&gt; 24;<br> alpha = (color &amp; 0x000000FF) &lt;&lt; 24; //RGBA<br> unsigned int RGBA = alpha | red | green | blue;<br> return RGBA;<br>}<br></p>
        </div>
      </nav>
    </div>
    <div data-hover="false" data-delay="0" class="dropdown w-dropdown">
      <div data-w-id="e3b7dac8-e8bb-08a3-be0b-6f256230e2bc" class="dropdown-toggle w-dropdown-toggle">
        <div data-w-id="e3b7dac8-e8bb-08a3-be0b-6f256230e2bd" class="icon accordion-icon w-icon-dropdown-toggle"></div>
        <div class="text-block-13">Animations</div>
      </div>
      <nav class="dropdown-list-2 w-dropdown-list">
        <div class="flex-container-grid this w-container">
          <p class="paragrahps blog">‍<strong>Code<br>‍</strong><br>//Get at least 1 “cell” of an animation rendering properly with blending<br>void Animation(const unsigned int* source, int nSourceTextureWidth, int pixelX, int pixelY, int cutFrame, int x, int y)<br>{<br> for (int i = 0; i &lt; cutFrame; i++)<br> {<br> for (int j = 0; j &lt; cutFrame; j++)<br> {<br> drawPixel(x + j, y + i, colorConverter(source[convertDimensionalCordinates(pixelX + j, pixelY + i, nSourceTextureWidth)]));<br> }<br> }<br>}<br><br>void PlayAnimation(float FPS, int frameX, int frameY)<br>{<br> if (FPS &gt; (1.0f / 50))<br> {<br> frameX = frameX + 130; if (frameX &gt; blood_hit_04_width + 1)<br> {<br> frameY = frameY + 130;<br> frameX = 0; if (frameY &gt; blood_hit_04_height + 1)<br> {<br> frameY = 0;<br> } } FPS = 0;<br> }<br>}<br></p>
        </div>
      </nav>
    </div>
    <section id="Features" class="flex-container line w-container">
      <h2 class="heading-18"><strong>Guidance</strong></h2>
    </section>
    <div class="container-7 w-container">
      <div class="rich-text-block-5 blog w-richtext">
        <p>1. Once you setup the rendering loop, it is time to start drawing a pixel.  Call your function that draws a pixel and make sure it is drawing in the correct location. Contrasting colors are best to test with.</p>
        <p>2. Now that you can draw a pixel, we should now attempt to draw a tile (square set of pixels) or BLIT an image.</p>
        <p>a. For the tile’s height</p>
        <p>i. For the tile’s width</p>
        <p>1. Find the location into the image array. (2D to1D)</p>
        <p>2. Draw a pixel at this location iterating through the width and the height</p>
        <p>3. Once you are able to draw a BLIT / tiled image,we need to fill our color buffer with the same image.  You are essentially going to repeat this BLIT horizontally and vertically as well.</p>
        <p>a. For the number of evenly divisible tile heights</p>
        <p>i. For the number of evenly divisible tile widths</p>
        <p>1. Call your function to draw a tile.</p>
        <p>4. At this point you should notice a border around the edge of your right and bottom side of the screen.  This is because the remaining pixels did not constitute enough space to draw another BLIT. What needs to be done to your draw function to adjust for this?</p>
        <p>5. Getting this far you should have a strong understanding on how to BLIT.  Place 10BLITs randomly placed throughout the color buffer.  These can be anything of your choosing.  Obvious choices would be something large enough to notice.</p>
        <p>6. Now let us introduce 1 “cell” of an animation.  Be careful here because this is where you need to interpolate through color values since the animation might have alpha values lower than 255.</p>
        <p>7. As soon as you can get a properly rendering BLIT with alpha transparency, solve how to iterate through the animation overtime.  Make sure the animation plays smoothly at 30 fps.</p>
      </div>
    </div>
    <section id="Features" class="flex-container line w-container">
      <h2 class="heading-18"><strong>Programming Explanation</strong></h2>
    </section>
    <div class="container-7 w-container">
      <div class="rich-text-block-5 w-richtext">
        <p><strong>Vector Displays </strong></p>
        <p>A type of CRT (cathode ray tube), a vector display would draw lines onto a screen by illuminating the embedded phosphor with it’s electron gun.  </p>
        <p>Since vector displays drew lines directly they did not use pixels as we know them today. </p>
        <p>Many early arcade game from the late 70s to mid 80s preferred the vector display since it allowed for higher detail than equivalent raster displays of the time. </p>
        <p> </p>
        <p><strong>Raster Displays </strong></p>
        <p>Although early raster displays also used a CRT, they differed in execution. </p>
        <p>A raster display is made up of a grid (the raster) of picture-elements (pixels) where each pixel can be triggered to emit light. Resolution describes the horizontal and vertical number of pixels. </p>
        <p>Though we now use other technologies such as liquid crystal display (LCD) in our displays, the concept of the raster and pixel has stayed with us to this day.   </p>
        <p> </p>
        <p><strong>What About Alpha? </strong></p>
        <ul role="list">
          <li>Alpha is NOT part of the physical display. </li>
          <li>We use Alpha data as a kind of extra information to influence our final RGB results in some way. </li>
          <li>It’s often up to us (software engineers) on how we use Alpha, however there are certainly some common case uses for it.  </li>
          <li>One such use is mathematically blending the intensity of two overlapping pixels using the source, destination or some combination of the two values.   </li>
        </ul>
        <p>‍</p>
        <p><strong>Pixel Intensity &amp; Gamma </strong></p>
        <ul role="list">
          <li>All modern displays can output up to 255 levels of intensity per color channel. We can store color in many different ways, but this is what the monitor can show. </li>
          <li>However… the human perception of this intensity is NOT linear. </li>
          <li>This why we use something called “gamma correction”, it adjusts this linear intensity range into something more appropriate for human vision. </li>
          <li>Most image formats stored on your hard-drive are stored with the expectation that your display has a gamma ramp of about 2.2. </li>
        </ul>
        <ul role="list">
          <li>Pixels retrieved from such an image have been pre-multiplied to compensate for this. </li>
        </ul>
        <p> </p>
        <p><strong>Pixel Formats</strong> </p>
        <ul role="list">
          <li>Pixels can be represented internally in LOTS of different ways: </li>
        </ul>
        <ul role="list">
          <li>R8G8B8 UINT, R32B32G32A32 FLOAT, B4G4R4 USHORT and on and on…  </li>
          <li>4Byte colors are very common (ex: X8B8G8R8) since they align well in memory. </li>
          <li>Converting between formats is a very common requirement. </li>
        </ul>
        <ul role="list">
          <li>The actual formats supported by display hardware will be the fastest to transfer since they will not require conversion.   </li>
        </ul>
        <p> </p>
        <p><strong>Working with R8G8B8A8 Pixels </strong></p>
        <h4>0xFF0000FF | 0x00FF00FF | 0x0000FFFF </h4>
        <h4>0xFFFF00FF | 0x00FFFFFF </h4>
        <h4>0xFFFFFFFF </h4>
        <h4>Extracting a Single 8bit Channel </h4>
        <h4>0x1F4C1FA2 &amp; 0x00FF0000 </h4>
        <h4>0x004C0000 </h4>
        <h4>&gt;&gt; </h4>
        <h4>Gbyte == 0x4C </h4>
        <p>‍</p>
        <p><strong>Blending Pixels Based On Alpha </strong></p>
        <ul role="list">
          <li>One of the most common ways to use an alpha value, is as a threshold of how much to linearly interpolate between the intensities of 2 pixels. </li>
        </ul>
        <ul role="list">
          <li>Step 1: Break each pixel into its raw channels as described previously. </li>
          <li>Step 2: Use source pixel’s alpha intensity to determine how much of the destination pixel’s RGB channels should be blended in. </li>
          <li>Step 3: Use the linear interpolation formula to merge each of the channels into a final result to be displayed. </li>
        </ul>
        <ul role="list">
          <li>The lerp formula: ( B - A ) * R + A </li>
        </ul>
        <ul role="list">
          <li>Where <strong>A</strong> is the starting value and <strong>B</strong> is the ending value and <strong>R</strong> is a ratio from 0 to 1 describing the amount of transition desired. </li>
          <li><em>HINT:</em> If <strong>R</strong> is derived from Alpha then it may not be from 0-1 , you will need to adjust for this. </li>
        </ul>
        <p> </p>
        <p><strong>How many REAL 2D games have you played? </strong></p>
        <ul role="list">
          <li>Nearly every modern 2D game is drawn using a 3D Hardware accelerated rendering API like OpenGL or Direct3D. </li>
          <li>This means your “Sprites” are actually 2 flat triangles covered with a texture image funneled through a fully 3D capable rendering system. </li>
          <li>Modern 2D games/libraries do this because it allows them to take advantage of the GPU (graphics processing unit) and draw far more “Sprites” than they otherwise would be able to. </li>
          <li>Older pure 2D systems would use something called a “Blitter“ chip to efficiently transfer image data from one memory area to another. </li>
        </ul>
        <p> </p>
        <p><strong>Sample Arguments for a BLIT Routine </strong></p>
        <ul role="list">
          <li>Pointer to Source Image Array (Pixels) </li>
          <li>Pointer to Destination Screen Array (Pixels) </li>
          <li>Source Image Array Dimensions (Width &amp; Height) </li>
          <li>Destination Screen Array Dimensions (Width &amp; Height) </li>
          <li>Source Image Sub-Rectangle to be Copied (ex: Left Top Right Bottom) </li>
          <li>Destination Copy-To Location X &amp; Y (Drawing Position) </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="section-2 footer background-black wf-section">
    <div class="container-4 w-container">
      <div class="footer-holder">
        <div class="social-wrapper">
          <a href="https://juan_diego_lugo.artstation.com" target="_blank" class="social-link w-inline-block"><img src="../images/Artstation.png" loading="lazy" alt="" class="image-13"></a>
          <a href="https://github.com/JDMAXilius" target="_blank" class="social-link w-inline-block"><img src="../images/github.png" loading="lazy" alt="image" class="image-13"></a>
          <a href="https://www.youtube.com/channel/UCRjr5hvDeIpc_SfgTO690RA/featured" target="_blank" class="social-link w-inline-block"><img src="../images/youtube.png" loading="lazy" alt="" class="image-13"></a>
          <a href="#" class="social-link w-inline-block"><img src="../images/pngfind.com-discord-icon-png-283551.png" loading="lazy" sizes="40px" srcset="../images/pngfind.com-discord-icon-png-283551-p-500.png 500w, ../images/pngfind.com-discord-icon-png-283551-p-800.png 800w, ../images/pngfind.com-discord-icon-png-283551-p-1080.png 1080w, ../images/pngfind.com-discord-icon-png-283551.png 1468w" alt="" class="image-13"></a>
          <a href="https://www.facebook.com/juandiego.lugo1" target="_blank" class="social-link w-inline-block"><img src="../images/fb.png" loading="lazy" alt="" class="image-13 f"></a>
          <a href="#" class="social-link w-inline-block"><img src="../images/Instagram.svg" loading="lazy" alt="Instagram logo" class="image-13"></a>
          <a href="https://www.linkedin.com/in/juan-diego-lugo-929a34205/" class="social-link w-inline-block"><img src="../images/LinkedIn.svg" loading="lazy" alt="LinkedIn logo" class="image-14"></a>
        </div><img src="https://uploads-ssl.webflow.com/602ca53e736379cc95d5f180/602ca53e58ea7fb6bb114f5c_Logo.svg" loading="lazy" width="187" alt="" class="image">
        <div class="text-block-3">@Juan Diego 2021<br>‍</div>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=602f42d4d0eb6ddf9136273c" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="../js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
</body>
</html>